@use 'sass:map';

.form-field {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  width: var(--max-width-full);

  &__content {
    display: block;
    width: var(--max-width-full);
  }

  &__footer-wrapper {
    min-height: 1.25rem; // Reserve space for error message (font-size-xs + spacing)
  }

  // Validation state modifiers
  &--success {
    .form-field__label {
      color: var(--color-success, #10b981);
    }
  }

  &--warning {
    .form-field__label {
      color: var(--color-warning-text, var(--color-warning, #f59e0b));
    }
  }

  &--error {
    .form-field__label {
      color: var(--color-error, #dc2626);
    }
  }
}

// Label styling (applied via InputLabelComponent)
.form-field__label {
  display: block;
  margin-bottom: var(--space-2);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--text-primary, #1a1a1a);
  line-height: var(--line-height-normal);

  &__required {
    color: var(--color-error, #dc2626);
    margin-left: var(--space-1);
    font-weight: var(--font-weight-semibold);
  }
}

// Dark theme support
@media (prefers-color-scheme: dark) {
  .form-field__label {
    color: var(--text-primary-dark);
  }

  .form-field__helper-text {
    color: var(--text-secondary-dark);
  }
}

// Ensure nested form controls take full width
.form-field__content {
  // Target common form elements
  input,
  textarea,
  select {
    width: var(--max-width-full);
  }

  // Target Angular form components
  eb-input,
  eb-textarea,
  eb-select,
  eb-checkbox,
  eb-radio {
    width: var(--max-width-full);
  }
}

// Helper/Error text styling
.form-field__helper-text {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);

  &--error {
    color: var(--color-error, #ef4444);
  }

  &--warning {
    color: var(--color-warning-text, var(--color-warning, #f59e0b));
  }

  &--success {
    color: var(--color-success, #10b981);
  }
}
