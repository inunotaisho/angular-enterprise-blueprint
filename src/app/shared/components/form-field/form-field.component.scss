@use 'sass:map';

.form-field {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  width: var(--max-width-full);

  &__content {
    display: block;
    width: var(--max-width-full);
  }

  // Validation state modifiers
  &--success {
    .form-field-label {
      color: var(--color-success, #10b981);
    }
  }

  &--warning {
    .form-field-label {
      color: var(--color-warning, #f59e0b);
    }
  }

  &--error {
    .form-field-label {
      color: var(--color-error, #dc2626);
    }
  }
}

// Label styling (applied via InputLabelComponent)
.form-field-label {
  display: block;
  margin-bottom: var(--space-2);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--text-primary, #1a1a1a);
  line-height: var(--line-height-normal);

  &__required {
    color: var(--color-error, #dc2626);
    margin-left: var(--space-1);
    font-weight: var(--font-weight-semibold);
  }
}

// Helper text styling (shared with InputFooterComponent)
.form-field-helper-text {
  font-size: var(--font-size-sm);
  line-height: var(--line-height-tight);
  color: var(--text-secondary);
  margin-top: var(--space-2);
  transition: color 0.2s ease;

  // Respect reduced motion preference
  @media (prefers-reduced-motion: reduce) {
    transition: none;
  }

  &--success {
    color: var(--color-success);
  }

  &--warning {
    color: var(--color-warning);
  }

  &--error {
    color: var(--color-error);
  }
}

// Dark theme support
@media (prefers-color-scheme: dark) {
  .form-field-label {
    color: var(--text-primary-dark);
  }

  .form-field-helper-text {
    color: var(--text-secondary-dark);
  }
}

// Ensure nested form controls take full width
.form-field__content {
  // Target common form elements
  input,
  textarea,
  select {
    width: var(--max-width-full);
  }

  // Target Angular form components
  eb-input,
  eb-textarea,
  eb-select,
  eb-checkbox,
  eb-radio {
    width: var(--max-width-full);
  }
}
